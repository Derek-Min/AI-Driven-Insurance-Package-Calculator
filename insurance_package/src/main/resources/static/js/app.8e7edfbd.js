(function(){"use strict";var t={4473:function(t,s,e){var n=e(5130),o=e(6768);const a={key:1,class:"chat-screen"};function r(t,s,e,n,r,i){const d=(0,o.g2)("LandingPage"),l=(0,o.g2)("ChatBot");return(0,o.uX)(),(0,o.CE)("div",null,[r.showChat?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(d,{key:0,onOpenChat:s[0]||(s[0]=t=>r.showChat=!0)})),r.showChat?((0,o.uX)(),(0,o.CE)("div",a,[(0,o.bF)(l)])):(0,o.Q3)("",!0)])}const i={class:"landing"},d={class:"hero"},l={class:"hero-content"};function u(t,s){return(0,o.uX)(),(0,o.CE)("div",i,[s[3]||(s[3]=(0,o.Fv)('<header class="nav" data-v-7428b46d><div class="logo" data-v-7428b46d><svg width="160" height="48" viewBox="0 0 260 64" xmlns="http://www.w3.org/2000/svg" data-v-7428b46d><defs data-v-7428b46d><linearGradient id="trustGrad" x1="0%" y1="0%" x2="100%" y2="100%" data-v-7428b46d><stop offset="0%" stop-color="#0A5CFF" data-v-7428b46d></stop><stop offset="100%" stop-color="#00A6C8" data-v-7428b46d></stop></linearGradient></defs><path d="M32 6 L52 14 V30\r\n             C52 42 42 52 32 56\r\n             C22 52 12 42 12 30\r\n             V14 Z" fill="url(#trustGrad)" data-v-7428b46d></path><path d="M24 30 L30 36 L40 24" fill="none" stroke="#FFFFFF" stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round" data-v-7428b46d></path><text x="70" y="34" font-family="Arial" font-size="22" font-weight="700" fill="#0B1B3A" data-v-7428b46d> Trust Insurance </text><text x="70" y="52" font-family="Arial" font-size="11" letter-spacing="1.4" fill="#0A5CFF" data-v-7428b46d> SECURE YOUR FUTURE </text></svg></div><h1 class="brand" data-v-7428b46d>Trust Insurance</h1></header>',1)),(0,o.Lk)("section",d,[(0,o.Lk)("div",l,[s[1]||(s[1]=(0,o.Lk)("h2",null,"Secure Your Future",-1)),s[2]||(s[2]=(0,o.Lk)("p",null,"Your trusted partner for Motor & Life protection.",-1)),(0,o.Lk)("button",{class:"cta",onClick:s[0]||(s[0]=s=>t.$emit("openChat"))}," Talk to TrustBot ")])]),s[4]||(s[4]=(0,o.Lk)("section",{class:"products"},[(0,o.Lk)("h3",null,"Our Products"),(0,o.Lk)("div",{class:"cards"},[(0,o.Lk)("div",{class:"card"},[(0,o.Lk)("h4",null,"Comprehensive Motor Insurance"),(0,o.Lk)("p",null,"Protect your vehicle with affordable coverage, NCD benefits, and options for theft, flood, and more.")]),(0,o.Lk)("div",{class:"card"},[(0,o.Lk)("h4",null,"ShortTerm Life Insurance"),(0,o.Lk)("p",null,"Coverage that protects your loved ones with flexible premiums and fast approval.")])])],-1))])}var c=e(1241);const h={},f=(0,c.A)(h,[["render",u],["__scopeId","data-v-7428b46d"]]);var p=f,g=e(4232);const v={class:"chat-wrapper"},b={class:"chat-header"},m={class:"chat-body",ref:"chatBox"},y={class:"bubble"},k={key:0,class:"typing"},L={class:"chat-input"},C=["disabled"],I=["disabled"],w=["disabled"];function x(t,s,e,a,r,i){return(0,o.uX)(),(0,o.CE)("div",v,[(0,o.Lk)("div",b,[s[5]||(s[5]=(0,o.Lk)("div",{class:"brand"},[(0,o.Lk)("img",{src:"/logo.png",alt:"Trust Insurance",class:"logo"}),(0,o.Lk)("div",null,[(0,o.Lk)("h3",null,"Trust Insurance Assistant"),(0,o.Lk)("p",null,"Secure your future")])],-1)),(0,o.Lk)("button",{class:"exit",onClick:s[0]||(s[0]=s=>t.$emit("exitChat"))},"✕")]),(0,o.Lk)("div",m,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.messages,(t,s)=>((0,o.uX)(),(0,o.CE)("div",{key:s,class:(0,g.C4)(["msg",t.sender])},[(0,o.Lk)("div",y,(0,g.v_)(t.text),1)],2))),128)),r.loading?((0,o.uX)(),(0,o.CE)("div",k,[...s[6]||(s[6]=[(0,o.eW)(" TrustBot is typing",-1),(0,o.Lk)("span",null,".",-1),(0,o.Lk)("span",null,".",-1),(0,o.Lk)("span",null,".",-1)])])):(0,o.Q3)("",!0)],512),(0,o.Lk)("div",L,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>r.userInput=t),placeholder:"Type your message...",onKeyup:s[2]||(s[2]=(0,n.jR)((...t)=>i.send&&i.send(...t),["enter"])),disabled:r.loading||r.ended},null,40,C),[[n.Jo,r.userInput]]),(0,o.Lk)("button",{onClick:s[3]||(s[3]=(...t)=>i.send&&i.send(...t)),disabled:r.loading||r.ended},"Send",8,I),(0,o.Lk)("button",{class:"restart",onClick:s[4]||(s[4]=(...t)=>i.restart&&i.restart(...t)),disabled:r.loading}," Restart ",8,w)])])}e(4114),e(8111),e(7588),e(8335);var _=e(4373);const S={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_URL||"http://localhost:8080";async function T(t,s){try{const e=await _.A.post(`${S}/chatbot`,{sessionId:t,message:s});let n=e.data;return n?.body&&(n="string"===typeof n.body?JSON.parse(n.body):n.body),{sessionId:n.sessionId,messages:Array.isArray(n.messages)?n.messages:[],endSession:Boolean(n.endSession)}}catch{return{messages:["⚠️ Backend not reachable."],endSession:!1}}}var E={name:"ChatBot",data(){return{sessionId:localStorage.getItem("trust_session_id")||null,userInput:"",messages:[],loading:!1,ended:!1}},mounted(){this.sendInitial()},methods:{async sendInitial(){if(!(this.messages.length>0)){this.loading=!0;try{const t=await T(this.sessionId,"");t?.sessionId&&(this.sessionId=t.sessionId,localStorage.setItem("trust_session_id",this.sessionId)),t?.messages?.forEach(t=>this.messages.push({sender:"bot",text:t}))}finally{this.loading=!1,this.scrollChatToBottom()}}},async send(){const t=this.userInput.trim();if(t&&!this.loading&&!this.ended){this.messages.push({sender:"user",text:t}),this.userInput="",this.loading=!0,this.scrollChatToBottom();try{const s=await T(this.sessionId,t);s?.sessionId&&(this.sessionId=s.sessionId,localStorage.setItem("trust_session_id",this.sessionId)),s?.messages?.forEach(t=>this.messages.push({sender:"bot",text:t})),s?.endSession&&(this.ended=!0,this.messages.push({sender:"bot",text:"✅ Session completed. Click Restart to start again."}))}catch(s){this.messages.push({sender:"bot",text:"❗ Something went wrong. Please try again."})}finally{this.loading=!1,this.scrollChatToBottom()}}},async restart(){try{await T(this.sessionId,"restart")}catch(t){console.warn("Restart failed, resetting locally.",t)}localStorage.removeItem("trust_session_id"),this.sessionId=null,this.messages=[],this.ended=!1,this.sendInitial()},scrollChatToBottom(){this.$nextTick(()=>{const t=this.$refs.chatBox;t&&(t.scrollTop=t.scrollHeight)})}}};const O=(0,c.A)(E,[["render",x],["__scopeId","data-v-62f9cb46"]]);var B=O,A={components:{LandingPage:p,ChatBot:B},data(){return{showChat:!1}}};const F=(0,c.A)(A,[["render",r]]);var P=F;(0,n.Ef)(P).mount("#app")}},s={};function e(n){var o=s[n];if(void 0!==o)return o.exports;var a=s[n]={exports:{}};return t[n].call(a.exports,a,a.exports,e),a.exports}e.m=t,function(){var t=[];e.O=function(s,n,o,a){if(!n){var r=1/0;for(u=0;u<t.length;u++){n=t[u][0],o=t[u][1],a=t[u][2];for(var i=!0,d=0;d<n.length;d++)(!1&a||r>=a)&&Object.keys(e.O).every(function(t){return e.O[t](n[d])})?n.splice(d--,1):(i=!1,a<r&&(r=a));if(i){t.splice(u--,1);var l=o();void 0!==l&&(s=l)}}return s}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[n,o,a]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var n in s)e.o(s,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:s[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};e.O.j=function(s){return 0===t[s]};var s=function(s,n){var o,a,r=n[0],i=n[1],d=n[2],l=0;if(r.some(function(s){return 0!==t[s]})){for(o in i)e.o(i,o)&&(e.m[o]=i[o]);if(d)var u=d(e)}for(s&&s(n);l<r.length;l++)a=r[l],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(u)},n=self["webpackChunktrust_chatbot"]=self["webpackChunktrust_chatbot"]||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))}();var n=e.O(void 0,[504],function(){return e(4473)});n=e.O(n)})();
//# sourceMappingURL=app.8e7edfbd.js.map